
<p id="notice"><%= notice %></p>

<div id="room-id" data-room-id="<%= @room.try(:id) %>"></div>
<div id="user-id" data-user-id="<%= current_user.id %>"></div>

<%# <%= "Hello, #{current_user}" %> 
<%= render "form", room: Room.new%>


<h1>Rooms</h1>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @rooms.each do |room| %>
      <%= link_to room do %>
        <div><%= room.name %></div>
        <%= link_to "delete", room_path(room.id), method: "delete", data: {confirm: "Sure to delete?"}%>
      <% end%>
    <% end %>
  </tbody>
</table>

<br>

<%# <%= link_to 'New Room', new_room_path %> 
<%if @room.present? %>
<h3 class="text-grey-darkest mb-1 font-extrabold"><p><%= "Current_room is #{@room.name}"%></p></h3>
    
       <div class="px-6 py-4 flex-1 overflow-y-scroll" style="height: 300px">
       <div id = "messages">
    <% @room.messages.each do |message| %>
        <%= render 'messages/message', message: message %>          
    <%end %>
    </div>
    </div>
    <%= render 'messages/form', message: Message.new, room: @room %>

    
<%end%> 


